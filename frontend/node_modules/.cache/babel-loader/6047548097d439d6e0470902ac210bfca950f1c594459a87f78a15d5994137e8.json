{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/GaneshSurna/Desktop/react-router/React-router-SPA/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/GaneshSurna/Desktop/react-router/React-router-SPA/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _jsxFileName = \"C:\\\\Users\\\\GaneshSurna\\\\Desktop\\\\react-router\\\\React-router-SPA\\\\frontend\\\\src\\\\pages\\\\EventDetailsPage.js\",\n  _s = $RefreshSig$();\nimport { Suspense } from \"react\";\nimport { Await, useLoaderData, defer, json } from \"react-router-dom\";\nimport EventItem from \"../components/EventItem\";\nimport EventsList from \"../components/EventsList\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function EventDetailsPage() {\n  _s();\n  var _this = this;\n  var _useLoaderData = useLoaderData(),\n    eventKey = _useLoaderData.eventKey,\n    eventsKey = _useLoaderData.eventsKey;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Suspense, {\n      fallback: /*#__PURE__*/_jsxDEV(\"main\", {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 11,\n          columnNumber: 35\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 11,\n        columnNumber: 29\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(Await, {\n        resolve: eventKey,\n        children: function children(loadedEvent) {\n          return /*#__PURE__*/_jsxDEV(EventItem, {\n            event: loadedEvent\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 13,\n            columnNumber: 33\n          }, _this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Suspense, {\n      fallback: /*#__PURE__*/_jsxDEV(\"main\", {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 16,\n          columnNumber: 35\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 29\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(Await, {\n        resolve: eventsKey,\n        children: function children(loadedEvents) {\n          var filteredEvents = loadedEvents.map(function (eventItem) {\n            return eventItem.id !== event.id;\n          });\n          return /*#__PURE__*/_jsxDEV(EventsList, {\n            title: \"All Related Events\",\n            events: filteredEvents\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 22,\n            columnNumber: 28\n          }, _this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n_s(EventDetailsPage, \"29n0W8U/R437JH9DqItYHE8nYBY=\", false, function () {\n  return [useLoaderData];\n});\n_c = EventDetailsPage;\nvar eventLoader = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(id) {\n    var response, resData;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return fetch(\"http://localhost:8080/events/\" + id);\n        case 2:\n          response = _context.sent;\n          if (response.ok) {\n            _context.next = 7;\n            break;\n          }\n          throw json({\n            message: \"Couldn't fetch event details!\"\n          }, {\n            status: 500\n          });\n        case 7:\n          _context.next = 9;\n          return response.json();\n        case 9:\n          resData = _context.sent;\n          return _context.abrupt(\"return\", resData.event);\n        case 11:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function eventLoader(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar eventsLoader = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n    var response, resData;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return fetch(\"http://localhost:8080/events\");\n        case 2:\n          response = _context2.sent;\n          if (response.ok) {\n            _context2.next = 7;\n            break;\n          }\n          throw json({\n            message: \"Couldn't fetch events!\"\n          }, {\n            status: 500\n          });\n        case 7:\n          _context2.next = 9;\n          return response.json();\n        case 9:\n          resData = _context2.sent;\n          return _context2.abrupt(\"return\", resData.events);\n        case 11:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function eventsLoader() {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var loader = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(_ref3) {\n    var request, params, id;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          request = _ref3.request, params = _ref3.params;\n          id = params.eventId;\n          _context3.t0 = defer;\n          _context3.next = 5;\n          return eventLoader(id);\n        case 5:\n          _context3.t1 = _context3.sent;\n          _context3.t2 = eventsLoader();\n          _context3.t3 = {\n            eventKey: _context3.t1,\n            eventsKey: _context3.t2\n          };\n          return _context3.abrupt(\"return\", (0, _context3.t0)(_context3.t3));\n        case 9:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function loader(_x2) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nexport var action = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(_ref5) {\n    var request, params, id, response;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          request = _ref5.request, params = _ref5.params;\n          id = params.eventId;\n          _context4.next = 4;\n          return fetch(\"http://localhost:8080/events/\" + id, {\n            method: request.method\n          });\n        case 4:\n          response = _context4.sent;\n        case 5:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4);\n  }));\n  return function action(_x3) {\n    return _ref6.apply(this, arguments);\n  };\n}();\nvar _c;\n$RefreshReg$(_c, \"EventDetailsPage\");","map":{"version":3,"names":["Suspense","Await","useLoaderData","defer","json","EventItem","EventsList","jsxDEV","_jsxDEV","Fragment","_Fragment","EventDetailsPage","_s","_this","_useLoaderData","eventKey","eventsKey","children","fallback","fileName","_jsxFileName","lineNumber","columnNumber","resolve","loadedEvent","event","loadedEvents","filteredEvents","map","eventItem","id","title","events","_c","eventLoader","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","resData","wrap","_callee$","_context","prev","next","fetch","sent","ok","message","status","abrupt","stop","_x","apply","arguments","eventsLoader","_ref2","_callee2","_callee2$","_context2","loader","_ref4","_callee3","_ref3","request","params","_callee3$","_context3","eventId","t0","t1","t2","t3","_x2","action","_ref6","_callee4","_ref5","_callee4$","_context4","method","_x3","$RefreshReg$"],"sources":["C:/Users/GaneshSurna/Desktop/react-router/React-router-SPA/frontend/src/pages/EventDetailsPage.js"],"sourcesContent":["import { Suspense } from \"react\";\r\nimport { Await, useLoaderData, defer, json } from \"react-router-dom\";\r\nimport EventItem from \"../components/EventItem\";\r\nimport EventsList from \"../components/EventsList\";\r\n\r\nexport default function EventDetailsPage(){\r\n\r\n    const {eventKey, eventsKey} = useLoaderData();\r\n\r\n    return <>\r\n        <Suspense fallback={<main><p>Loading...</p></main>}>\r\n            <Await resolve={eventKey}>\r\n                {(loadedEvent)=><EventItem event={loadedEvent}/>}\r\n            </Await>\r\n        </Suspense>\r\n        <Suspense fallback={<main><p>Loading...</p></main>}>\r\n            <Await resolve={eventsKey}>\r\n                {(loadedEvents)=>{\r\n                    const filteredEvents= loadedEvents.map((eventItem)=>{\r\n                        return eventItem.id !== event.id;\r\n                    });\r\n                    return <EventsList title=\"All Related Events\" events={filteredEvents}/>\r\n                }}\r\n            </Await>\r\n        </Suspense>\r\n    </>\r\n}\r\n\r\nconst eventLoader= async(id)=>{\r\n    const response= await fetch(\"http://localhost:8080/events/\"+id);\r\n\r\n    if(!response.ok){\r\n        throw json({message: \"Couldn't fetch event details!\"},{status:500});\r\n    }\r\n\r\n    else{\r\n        const resData = await response.json();\r\n        return resData.event;\r\n    }\r\n};\r\n\r\nconst eventsLoader=async()=>{\r\n    const response= await fetch(\"http://localhost:8080/events\");\r\n\r\n    if(!response.ok){\r\n        throw json({message: \"Couldn't fetch events!\"},{status:500});\r\n    }\r\n\r\n    else{\r\n        const resData = await response.json();\r\n        return resData.events;\r\n    }\r\n};\r\n\r\nexport const loader=async({request, params})=>{\r\n    const id= params.eventId;\r\n\r\n    return defer({\r\n        eventKey: await eventLoader(id),\r\n        eventsKey: eventsLoader(),\r\n    });\r\n}\r\n\r\nexport const action= async ({request, params})=>{\r\n    const id= params.eventId;\r\n\r\n    const response= await fetch(\"http://localhost:8080/events/\"+id,\r\n        {\r\n            method: request.method,\r\n        }\r\n    );\r\n\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
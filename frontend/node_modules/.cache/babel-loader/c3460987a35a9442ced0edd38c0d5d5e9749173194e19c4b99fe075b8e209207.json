{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/GaneshSurna/Desktop/react-router/React-router-SPA/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/GaneshSurna/Desktop/react-router/React-router-SPA/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _jsxFileName = \"C:\\\\Users\\\\GaneshSurna\\\\Desktop\\\\react-router\\\\React-router-SPA\\\\frontend\\\\src\\\\pages\\\\EventsPage.js\",\n  _s = $RefreshSig$();\nimport { Await, defer, json, useLoaderData } from \"react-router-dom\";\nimport EventsList from \"../components/EventsList\";\nimport { Suspense } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function EventsPage() {\n  _s();\n  var _this = this;\n  var _useLoaderData = useLoaderData(),\n    eventsKey = _useLoaderData.eventsKey;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Suspense, {\n      fallback: /*#__PURE__*/_jsxDEV(\"main\", {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 9,\n          columnNumber: 35\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 9,\n        columnNumber: 29\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(Await, {\n        resolve: eventsKey,\n        children: function children(loadedEvents) {\n          return /*#__PURE__*/_jsxDEV(EventsList, {\n            title: \"All Events\",\n            events: loadedEvents\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 12,\n            columnNumber: 28\n          }, _this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 10,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n_s(EventsPage, \"s2ut3glvUQPsL9bwsbAluQKculU=\", false, function () {\n  return [useLoaderData];\n});\n_c = EventsPage;\nvar eventsLoader = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    var response, resData;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return fetch(\"http://localhost:8080/events\");\n        case 2:\n          response = _context.sent;\n          if (response.ok) {\n            _context.next = 7;\n            break;\n          }\n          throw json({\n            message: \"Couldn't fetch events!\"\n          }, {\n            status: 500\n          });\n        case 7:\n          _context.next = 9;\n          return response.json();\n        case 9:\n          resData = _context.sent;\n          return _context.abrupt(\"return\", resData.events);\n        case 11:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function eventsLoader() {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var loader = function loader() {\n  return defer({\n    eventsKey: eventsLoader()\n  });\n};\nvar _c;\n$RefreshReg$(_c, \"EventsPage\");","map":{"version":3,"names":["Await","defer","json","useLoaderData","EventsList","Suspense","jsxDEV","_jsxDEV","Fragment","_Fragment","EventsPage","_s","_this","_useLoaderData","eventsKey","children","fallback","fileName","_jsxFileName","lineNumber","columnNumber","resolve","loadedEvents","title","events","_c","eventsLoader","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","resData","wrap","_callee$","_context","prev","next","fetch","sent","ok","message","status","abrupt","stop","apply","arguments","loader","$RefreshReg$"],"sources":["C:/Users/GaneshSurna/Desktop/react-router/React-router-SPA/frontend/src/pages/EventsPage.js"],"sourcesContent":["import { Await, defer, json, useLoaderData } from \"react-router-dom\";\r\nimport EventsList from \"../components/EventsList\";\r\nimport { Suspense } from \"react\";\r\n\r\nexport default function EventsPage(){\r\n    const {eventsKey}= useLoaderData();\r\n\r\n    return <>\r\n        <Suspense fallback={<main><p>Loading...</p></main>}>\r\n            <Await resolve={eventsKey}>\r\n                {(loadedEvents)=>{\r\n                    return <EventsList title=\"All Events\" events={loadedEvents}/>\r\n                }}\r\n            </Await>\r\n        </Suspense>\r\n    </>\r\n}\r\n\r\nconst eventsLoader=async()=>{\r\n    const response= await fetch(\"http://localhost:8080/events\");\r\n\r\n    if(!response.ok){\r\n        throw json({message: \"Couldn't fetch events!\"},{status:500});\r\n    }\r\n\r\n    else{\r\n        const resData = await response.json();\r\n        return resData.events;\r\n    }\r\n}\r\n\r\nexport const loader=()=>{\r\n    return defer({\r\n        eventsKey : eventsLoader(),\r\n    });\r\n}"],"mappings":";;;;AAAA,SAASA,KAAK,EAAEC,KAAK,EAAEC,IAAI,EAAEC,aAAa,QAAQ,kBAAkB;AACpE,OAAOC,UAAU,MAAM,0BAA0B;AACjD,SAASC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAEjC,eAAe,SAASC,UAAUA,CAAA,EAAE;EAAAC,EAAA;EAAA,IAAAC,KAAA;EAChC,IAAAC,cAAA,GAAmBV,aAAa,CAAC,CAAC;IAA3BW,SAAS,GAAAD,cAAA,CAATC,SAAS;EAEhB,oBAAOP,OAAA,CAAAE,SAAA;IAAAM,QAAA,eACHR,OAAA,CAACF,QAAQ;MAACW,QAAQ,eAAET,OAAA;QAAAQ,QAAA,eAAMR,OAAA;UAAAQ,QAAA,EAAG;QAAU;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAE;MAAAL,QAAA,eAC/CR,OAAA,CAACP,KAAK;QAACqB,OAAO,EAAEP,SAAU;QAAAC,QAAA,EACrB,SAAAA,SAACO,YAAY,EAAG;UACb,oBAAOf,OAAA,CAACH,UAAU;YAACmB,KAAK,EAAC,YAAY;YAACC,MAAM,EAAEF;UAAa;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,GAAAR,KAAC,CAAC;QACjE;MAAC;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF;EAAC,gBACb,CAAC;AACP;AAACT,EAAA,CAZuBD,UAAU;EAAA,QACXP,aAAa;AAAA;AAAAsB,EAAA,GADZf,UAAU;AAclC,IAAMgB,YAAY;EAAA,IAAAC,IAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAC,QAAA;IAAA,IAAAC,QAAA,EAAAC,OAAA;IAAA,OAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAAF,QAAA,CAAAE,IAAA;UAAA,OACOC,KAAK,CAAC,8BAA8B,CAAC;QAAA;UAArDP,QAAQ,GAAAI,QAAA,CAAAI,IAAA;UAAA,IAEVR,QAAQ,CAACS,EAAE;YAAAL,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,MACLpC,IAAI,CAAC;YAACwC,OAAO,EAAE;UAAwB,CAAC,EAAC;YAACC,MAAM,EAAC;UAAG,CAAC,CAAC;QAAA;UAAAP,QAAA,CAAAE,IAAA;UAAA,OAItCN,QAAQ,CAAC9B,IAAI,CAAC,CAAC;QAAA;UAA/B+B,OAAO,GAAAG,QAAA,CAAAI,IAAA;UAAA,OAAAJ,QAAA,CAAAQ,MAAA,WACNX,OAAO,CAACT,MAAM;QAAA;QAAA;UAAA,OAAAY,QAAA,CAAAS,IAAA;MAAA;IAAA,GAAAd,OAAA;EAAA,CAE5B;EAAA,gBAXKL,YAAYA,CAAA;IAAA,OAAAC,IAAA,CAAAmB,KAAA,OAAAC,SAAA;EAAA;AAAA,GAWjB;AAED,OAAO,IAAMC,MAAM,GAAC,SAAPA,MAAMA,CAAA,EAAK;EACpB,OAAO/C,KAAK,CAAC;IACTa,SAAS,EAAGY,YAAY,CAAC;EAC7B,CAAC,CAAC;AACN,CAAC;AAAA,IAAAD,EAAA;AAAAwB,YAAA,CAAAxB,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}